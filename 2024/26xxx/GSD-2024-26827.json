{
  "gsd": {
    "metadata": {
      "exploitCode": "unknown",
      "remediation": "unknown",
      "reportConfidence": "confirmed",
      "type": "vulnerability"
    },
    "osvSchema": {
      "aliases": [
        "CVE-2024-26827"
      ],
      "details": "In the Linux kernel, the following vulnerability has been resolved:\n\ni2c: qcom-geni: Correct I2C TRE sequence\n\nFor i2c read operation in GSI mode, we are getting timeout\ndue to malformed TRE basically incorrect TRE sequence\nin gpi(drivers/dma/qcom/gpi.c) driver.\n\nI2C driver has geni_i2c_gpi(I2C_WRITE) function which generates GO TRE and\ngeni_i2c_gpi(I2C_READ)generates DMA TRE. Hence to generate GO TRE before\nDMA TRE, we should move geni_i2c_gpi(I2C_WRITE) before\ngeni_i2c_gpi(I2C_READ) inside the I2C GSI mode transfer function\ni.e. geni_i2c_gpi_xfer().\n\nTRE stands for Transfer Ring Element - which is basically an element with\nsize of 4 words. It contains all information like slave address,\nclk divider, dma address value data size etc).\n\nMainly we have 3 TREs(Config, GO and DMA tre).\n- CONFIG TRE : consists of internal register configuration which is\n               required before start of the transfer.\n- DMA TRE :    contains DDR/Memory address, called as DMA descriptor.\n- GO TRE :     contains Transfer directions, slave ID, Delay flags, Length\n               of the transfer.\n\nI2c driver calls GPI driver API to config each TRE depending on the\nprotocol.\n\nFor read operation tre sequence will be as below which is not aligned\nto hardware programming guide.\n\n- CONFIG tre\n- DMA tre\n- GO tre\n\nAs per Qualcomm's internal Hardware Programming Guide, we should configure\nTREs in below sequence for any RX only transfer.\n\n- CONFIG tre\n- GO tre\n- DMA tre",
      "id": "GSD-2024-26827",
      "modified": "2024-02-20T06:02:29.186858Z",
      "schema_version": "1.4.0"
    }
  },
  "namespaces": {
    "cve.org": {
      "CVE_data_meta": {
        "ASSIGNER": "cve@kernel.org",
        "ID": "CVE-2024-26827",
        "STATE": "PUBLIC"
      },
      "affects": {
        "vendor": {
          "vendor_data": [
            {
              "product": {
                "product_data": [
                  {
                    "product_name": "Linux",
                    "version": {
                      "version_data": [
                        {
                          "version_affected": "<",
                          "version_name": "d8703554f4de",
                          "version_value": "083870b029c0"
                        },
                        {
                          "version_value": "not down converted",
                          "x_cve_json_5_version_data": {
                            "defaultStatus": "affected",
                            "versions": [
                              {
                                "status": "affected",
                                "version": "5.18"
                              },
                              {
                                "lessThan": "5.18",
                                "status": "unaffected",
                                "version": "0",
                                "versionType": "custom"
                              },
                              {
                                "lessThanOrEqual": "6.1.*",
                                "status": "unaffected",
                                "version": "6.1.79",
                                "versionType": "custom"
                              },
                              {
                                "lessThanOrEqual": "6.6.*",
                                "status": "unaffected",
                                "version": "6.6.18",
                                "versionType": "custom"
                              },
                              {
                                "lessThanOrEqual": "6.7.*",
                                "status": "unaffected",
                                "version": "6.7.6",
                                "versionType": "custom"
                              },
                              {
                                "lessThanOrEqual": "*",
                                "status": "unaffected",
                                "version": "6.8",
                                "versionType": "original_commit_for_fix"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  }
                ]
              },
              "vendor_name": "Linux"
            }
          ]
        }
      },
      "data_format": "MITRE",
      "data_type": "CVE",
      "data_version": "4.0",
      "description": {
        "description_data": [
          {
            "lang": "eng",
            "value": "In the Linux kernel, the following vulnerability has been resolved:\n\ni2c: qcom-geni: Correct I2C TRE sequence\n\nFor i2c read operation in GSI mode, we are getting timeout\ndue to malformed TRE basically incorrect TRE sequence\nin gpi(drivers/dma/qcom/gpi.c) driver.\n\nI2C driver has geni_i2c_gpi(I2C_WRITE) function which generates GO TRE and\ngeni_i2c_gpi(I2C_READ)generates DMA TRE. Hence to generate GO TRE before\nDMA TRE, we should move geni_i2c_gpi(I2C_WRITE) before\ngeni_i2c_gpi(I2C_READ) inside the I2C GSI mode transfer function\ni.e. geni_i2c_gpi_xfer().\n\nTRE stands for Transfer Ring Element - which is basically an element with\nsize of 4 words. It contains all information like slave address,\nclk divider, dma address value data size etc).\n\nMainly we have 3 TREs(Config, GO and DMA tre).\n- CONFIG TRE : consists of internal register configuration which is\n               required before start of the transfer.\n- DMA TRE :    contains DDR/Memory address, called as DMA descriptor.\n- GO TRE :     contains Transfer directions, slave ID, Delay flags, Length\n               of the transfer.\n\nI2c driver calls GPI driver API to config each TRE depending on the\nprotocol.\n\nFor read operation tre sequence will be as below which is not aligned\nto hardware programming guide.\n\n- CONFIG tre\n- DMA tre\n- GO tre\n\nAs per Qualcomm's internal Hardware Programming Guide, we should configure\nTREs in below sequence for any RX only transfer.\n\n- CONFIG tre\n- GO tre\n- DMA tre"
          }
        ]
      },
      "generator": {
        "engine": "bippy-d175d3acf727"
      },
      "problemtype": {
        "problemtype_data": [
          {
            "description": [
              {
                "lang": "eng",
                "value": "n/a"
              }
            ]
          }
        ]
      },
      "references": {
        "reference_data": [
          {
            "name": "https://git.kernel.org/stable/c/083870b029c06da6a9a49340dd78637eec35a1d4",
            "refsource": "MISC",
            "url": "https://git.kernel.org/stable/c/083870b029c06da6a9a49340dd78637eec35a1d4"
          },
          {
            "name": "https://git.kernel.org/stable/c/0589dff4fbf4a7b88a909a34ecfa7b5d3daf51f5",
            "refsource": "MISC",
            "url": "https://git.kernel.org/stable/c/0589dff4fbf4a7b88a909a34ecfa7b5d3daf51f5"
          },
          {
            "name": "https://git.kernel.org/stable/c/9318483e99f242ec4059e2fa20887e1d28efd5ae",
            "refsource": "MISC",
            "url": "https://git.kernel.org/stable/c/9318483e99f242ec4059e2fa20887e1d28efd5ae"
          },
          {
            "name": "https://git.kernel.org/stable/c/83ef106fa732aea8558253641cd98e8a895604d7",
            "refsource": "MISC",
            "url": "https://git.kernel.org/stable/c/83ef106fa732aea8558253641cd98e8a895604d7"
          }
        ]
      }
    },
    "nvd.nist.gov": {
      "cve": {
        "descriptions": [
          {
            "lang": "en",
            "value": "In the Linux kernel, the following vulnerability has been resolved:\n\ni2c: qcom-geni: Correct I2C TRE sequence\n\nFor i2c read operation in GSI mode, we are getting timeout\ndue to malformed TRE basically incorrect TRE sequence\nin gpi(drivers/dma/qcom/gpi.c) driver.\n\nI2C driver has geni_i2c_gpi(I2C_WRITE) function which generates GO TRE and\ngeni_i2c_gpi(I2C_READ)generates DMA TRE. Hence to generate GO TRE before\nDMA TRE, we should move geni_i2c_gpi(I2C_WRITE) before\ngeni_i2c_gpi(I2C_READ) inside the I2C GSI mode transfer function\ni.e. geni_i2c_gpi_xfer().\n\nTRE stands for Transfer Ring Element - which is basically an element with\nsize of 4 words. It contains all information like slave address,\nclk divider, dma address value data size etc).\n\nMainly we have 3 TREs(Config, GO and DMA tre).\n- CONFIG TRE : consists of internal register configuration which is\n               required before start of the transfer.\n- DMA TRE :    contains DDR/Memory address, called as DMA descriptor.\n- GO TRE :     contains Transfer directions, slave ID, Delay flags, Length\n               of the transfer.\n\nI2c driver calls GPI driver API to config each TRE depending on the\nprotocol.\n\nFor read operation tre sequence will be as below which is not aligned\nto hardware programming guide.\n\n- CONFIG tre\n- DMA tre\n- GO tre\n\nAs per Qualcomm's internal Hardware Programming Guide, we should configure\nTREs in below sequence for any RX only transfer.\n\n- CONFIG tre\n- GO tre\n- DMA tre"
          }
        ],
        "id": "CVE-2024-26827",
        "lastModified": "2024-04-17T12:48:07.510",
        "metrics": {},
        "published": "2024-04-17T10:15:09.240",
        "references": [
          {
            "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67",
            "url": "https://git.kernel.org/stable/c/0589dff4fbf4a7b88a909a34ecfa7b5d3daf51f5"
          },
          {
            "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67",
            "url": "https://git.kernel.org/stable/c/083870b029c06da6a9a49340dd78637eec35a1d4"
          },
          {
            "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67",
            "url": "https://git.kernel.org/stable/c/83ef106fa732aea8558253641cd98e8a895604d7"
          },
          {
            "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67",
            "url": "https://git.kernel.org/stable/c/9318483e99f242ec4059e2fa20887e1d28efd5ae"
          }
        ],
        "sourceIdentifier": "416baaa9-dc9f-4396-8d5f-8c081fb06d67",
        "vulnStatus": "Awaiting Analysis"
      }
    }
  }
}